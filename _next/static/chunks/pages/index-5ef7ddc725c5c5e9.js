(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(878)}])},878:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});var o=t(5893),r=t(7294);let s=e=>{let{userInputs:n,bombMap:t}=e,{board:o,brother:s,end:i}=(0,r.useMemo)(()=>{let e=[[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1]],o=[[-1,0],[-1,-1],[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1]],r=12,s=!0,i=JSON.parse(JSON.stringify(n)),a=n.some((e,n)=>e.some((e,o)=>1===e&&1===t[n][o])),l=(n,r)=>{let s=0;for(let e of o)void 0===t[n+e[0]]||void 0===t[r+e[1]]||0===t[n+e[0]][r+e[1]]||1===t[n+e[0]][r+e[1]]&&(s+=1);if(e[n][r]=s,0===s)for(let t of o)void 0===e[n+t[0]]||void 0===e[r+t[1]]||-1===e[n+t[0]][r+t[1]]&&l(n+t[0],r+t[1])};return(()=>{for(let o=0;o<9;o+=1)for(let c=0;c<9;c+=1)a&&t[o][c]?(e[o][c]=11,1===n[o][c]&&(e[o][c]=25,r=14,s=!1)):1===n[o][c]&&0===t[o][c]?l(o,c):3===i[o][c]?e[o][c]=10:2===i[o][c]&&(e[o][c]=9);let o=0;for(let n=0;n<9;n+=1)for(let t=0;t<9;t+=1)(-1===e[n][t]||9===e[n][t]||10===e[n][t])&&(o+=1);10===o&&(r=13,s=!1)})(),{board:e,brother:r,end:s}},[t,n]);return{board:o,brother:s,end:i}},i=()=>{let e=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]].map(e=>e.map(e=>e)),[n,t]=(0,r.useState)(e),o=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],[i,a]=(0,r.useState)(o),{board:l,end:c,brother:d}=s({userInputs:n,bombMap:i}),[_,f]=(0,r.useState)(0),[u,m]=(0,r.useState)(!1),x=JSON.parse(JSON.stringify(n)),N=JSON.parse(JSON.stringify(i)),h=n.some(e=>e.some(e=>0!==e));n.some((e,n)=>e.some((e,t)=>1===e&&1===i[n][t])),(0,r.useEffect)(()=>{let e=setInterval(()=>{f(e=>e+1)},1e3);return()=>{clearInterval(e)}},[]);let v=(e,n,t)=>{N[e][n]=t},b=(e,o)=>{if(u){if(c&&9!==l[e][o]&&10!==l[e][o]&&(console.log(e,o),x[e][o]=1,!h)){v(e,o,1);let n=0;for(;n<10;){let e=Math.floor(9*Math.random()),t=Math.floor(9*Math.random());N[e][t]||(console.log(n),N[e][t]=1,n+=1)}v(e,o,0),a(N)}let r=0;for(let n=-1;n<=1;n++)for(let t=-1;t<=1;t++)void 0===i[e+n]||void 0===i[o+t]||10===l[e+n][o+t]&&(r+=1);if(l[e][o]>0&&l[e][o]<9&&l[e][o]===r)for(let t=-1;t<=1;t++)for(let r=-1;r<=1;r++)void 0!==n[e+t]&&0===n[e+t][o+r]&&(x[e+t][o+r]=1);t(x)}},g=(e,o,r)=>{r.preventDefault();let s=JSON.parse(JSON.stringify(n));if(c){switch(l[e][o]){case -1:s[e][o]=3;break;case 9:s[e][o]=0;break;case 10:s[e][o]=2}t(s)}},p=()=>{t(e),a(o)},j=10;for(let e=0;e<=9;e++)for(let n=0;n<=9;n++)void 0===l[e]||void 0===l[e][n]||10===l[e][n]&&j--;return{board:l,clickStone:b,clickRight:g,seconds:_,flagCount:j,brother:d,resetBoard:p}};var a=t(2729),l=t.n(a);let c=()=>{let{board:e,clickStone:n,clickRight:t,seconds:r,flagCount:s,brother:a,resetBoard:c}=i();return(0,o.jsx)("div",{className:l().container,children:(0,o.jsxs)("div",{className:l().under,children:[(0,o.jsxs)("div",{className:l().brother,children:[(0,o.jsx)("div",{className:l().flagcountboard,children:(0,o.jsx)("h1",{children:(0,o.jsx)("span",{className:l().flagcount,children:s})})}),(0,o.jsx)("div",{className:l().reset,style:{backgroundPosition:12===a?"90px":13===a?"60px":"30px"},onClick:()=>c()}),(0,o.jsx)("div",{className:l().timer,children:(0,o.jsx)("h1",{children:(0,o.jsx)("span",{className:l().timecount,children:r})})})]}),(0,o.jsx)("div",{className:l().board,children:e.map((r,s)=>r.map((r,i)=>(0,o.jsx)("div",{className:l().cell,style:{background:25===r?"#f00":"#fff0"},onClick:()=>n(s,i),onContextMenu:e=>t(s,i,e),children:0!==r&&(-1!==r&&9!==r&&10!==r?(0,o.jsx)("div",{className:l().icon,style:{backgroundPosition:"".concat(-(30*(r-1)),"px")}}):r<11&&(0,o.jsx)("div",{className:l().stone,children:(9===e[s][i]||10===e[s][i])&&(0,o.jsx)("div",{className:l().flag,style:{backgroundPosition:"".concat(-(100*(r-1)),"%")}})}))},"".concat(i,"-").concat(s))))})]})})};var d=c},2729:function(e){e.exports={container:"index_container__gnN1f",under:"index_under__VnLAI",brother:"index_brother__ETCVt",flagcountboard:"index_flagcountboard__o2_Rd",flagcount:"index_flagcount__Ig3d6",numbersboard:"index_numbersboard__tMLCf",numbers1:"index_numbers1___7180",numbers2:"index_numbers2__VyXi5",reset:"index_reset__pnorU",timer:"index_timer__azvpY",timecount:"index_timecount__qUX2S",board:"index_board__2d6xe",icon:"index_icon__Noc_h",cell:"index_cell__3W8ZQ",stone:"index_stone__oeDmm",flag:"index_flag__Bsg_z"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);